{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = \"https://pixabay.com/api/\";\n\nexport const API_KEY = \"46069437-f48122ef32c6bd1c27031b929\";\n\nimport axios from 'axios';\n\n\nexport async function fetchPixabay(searchQuery) {\n    const URL = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(searchQuery)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n    try {\n        const response = await axios.get(URL);\n        return response.data;\n    } catch (error) {\n        throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n    }\n  }","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 200,\n});\n\nexport function createMarkup({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n  return `\n    <div class=\"card\">\n      <div class=\"card-image\">\n        <a href=\"${largeImageURL}\" class=\"gallery-item-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n      </div>\n      <div class=\"card-body\">\n        <p class=\"card-text\">Likes ${likes}</p>\n        <p class=\"card-text\">Views ${views}</p>\n        <p class=\"card-text\">Comments ${comments}</p>\n        <p class=\"card-text\">Downloads ${downloads}</p>\n      </div>\n    </div>`;\n}\n\nexport function renderImages(images, container) {\n  const imagesMarkup = images.map(createMarkup).join('');\n  container.innerHTML = imagesMarkup;\n\n  lightbox.refresh();  \n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchPixabay } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\nimport axios from 'axios';\n\n\nconst refs = {\n  form: document.querySelector(\".form\"),\n  gallery: document.querySelector(\".gallery\"),\n  loader: document.querySelector(\".loader\"),\n};\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value.trim();\n\n  if (query === \"\") {\n    iziToast.show({\n      title: 'Oops',\n      message: \"Sorry, there are no images matching your search query. Please try again!\",\n      color: \"#ef4040\",\n      position: \"bottomCenter\"\n    });\n    return;\n  }\n\n  refs.gallery.innerHTML = \"\";\n  showLoader();\n\n  try {\n    const data = await fetchPixabay(query);\n    \n    if (data.hits.length === 0) {\n      iziToast.show({\n        title: 'No results',\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        color: \"#ef4040\",\n        position: \"bottomCenter\"\n      });\n    } else {\n      renderImages(data.hits, refs.gallery);\n    }\n\n  } catch (error) {\n    iziToast.show({\n      title: 'Error',\n      message: \"Something went wrong. Please try again later.\",\n      color: \"#ef4040\",\n      position: \"bottomCenter\"\n    });\n  } finally {\n    hideLoader();\n    refs.form.reset();\n  }\n}\n\nfunction showLoader() {\n  refs.loader.classList.remove(\"hidden\");\n}\n\nfunction hideLoader() {\n    refs.loader.classList.add(\"hidden\");\n  }"],"names":["BASE_URL","API_KEY","fetchPixabay","searchQuery","URL","axios","lightbox","SimpleLightbox","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderImages","images","container","imagesMarkup","refs","onFormSubmit","event","query","iziToast","showLoader","data","hideLoader"],"mappings":"owBAAO,MAAMA,EAAW,2BAEXC,EAAU,qCAKhB,eAAeC,EAAaC,EAAa,CAC5C,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAM,mBAAmBE,CAAW,CAAC,2DAE3E,GAAI,CAEA,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,IACnB,MAAe,CACZ,MAAM,IAAI,MAAM,0EAA0E,CAC7F,CACL,CCbA,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAa,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACrG,MAAO;AAAA;AAAA;AAAA,mBAGUL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qCAIXC,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA,WAGlD,CAEO,SAASC,EAAaC,EAAQC,EAAW,CAC9C,MAAMC,EAAeF,EAAO,IAAIT,CAAY,EAAE,KAAK,EAAE,EACrDU,EAAU,UAAYC,EAEtBb,EAAS,QAAO,CAClB,CCvBA,MAAMc,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAAM,OAEvD,GAAIC,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,2EACT,MAAO,UACP,SAAU,cAChB,CAAK,EACD,MACD,CAEDJ,EAAK,QAAQ,UAAY,GACzBK,IAEA,GAAI,CACF,MAAMC,EAAO,MAAMxB,EAAaqB,CAAK,EAEjCG,EAAK,KAAK,SAAW,EACvBF,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,2EACT,MAAO,UACP,SAAU,cAClB,CAAO,EAEDR,EAAaU,EAAK,KAAMN,EAAK,OAAO,CAGvC,MAAe,CACdI,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,gDACT,MAAO,UACP,SAAU,cAChB,CAAK,CACL,QAAY,CACRG,IACAP,EAAK,KAAK,OACX,CACH,CAEA,SAASK,GAAa,CACpBL,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEA,SAASO,GAAa,CAClBP,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC"}